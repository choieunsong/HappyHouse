{"remainingRequest":"/Users/eunsong/git/happyhouse-qna/node_modules/babel-loader/lib/index.js!/Users/eunsong/git/happyhouse-qna/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/eunsong/git/happyhouse-qna/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eunsong/git/happyhouse-qna/src/components/Update.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eunsong/git/happyhouse-qna/src/components/Update.vue","mtime":1621683779351},{"path":"/Users/eunsong/git/happyhouse-qna/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eunsong/git/happyhouse-qna/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/eunsong/git/happyhouse-qna/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eunsong/git/happyhouse-qna/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwppbXBvcnQgeyBidXMgfSBmcm9tICdAL2JvYXJkYnVzJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBubzogIiIsCiAgICAgIHJlZ3RpbWU6ICIiLAogICAgICB3cml0ZXI6ICIiLAogICAgICB0aXRsZTogIiIsCiAgICAgIGNvbnRlbnQ6ICIiCiAgICB9OwogIH0sCiAgZmlsdGVyczogewogICAgdG9EYXRlOiBmdW5jdGlvbiB0b0RhdGUocmVndGltZSkgewogICAgICByZXR1cm4gbW9tZW50KG5ldyBEYXRlKHJlZ3RpbWUpKS5mb3JtYXQoIllZWVkuTU0uREQiKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHVwZGF0ZUhhbmRsZXI6IGZ1bmN0aW9uIHVwZGF0ZUhhbmRsZXIoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZXJyID0gdHJ1ZTsKICAgICAgdmFyIG1zZyA9ICIiOyAvL+2VhOyImCDsmpTqsbQg6rKA7IKsCgogICAgICBlcnIgJiYgIXRoaXMudGl0bGUgJiYgKG1zZyA9ICLsoJzrqqnsnYQg7J6F66Cl7ZW0IOyjvOyEuOyalCIsIGVyciA9IGZhbHNlLCB0aGlzLiRyZWZzLnRpdGxlLmZvY3VzKCkpOwogICAgICBlcnIgJiYgIXRoaXMuY29udGVudCAmJiAobXNnID0gIuuCtOyaqeydhCDsnoXroKXtlbQg7KO87IS47JqUIiwgZXJyID0gZmFsc2UsIHRoaXMuJHJlZnMuY29udGVudC5mb2N1cygpKTsKICAgICAgaWYgKCFlcnIpIGFsZXJ0KG1zZyk7ZWxzZSB7CiAgICAgICAgYXhpb3MucHV0KCJodHRwOi8vbG9jYWxob3N0OjkwOTAvaGFwcHlob3VzZS9xbmEvYm9hcmQvIi5jb25jYXQodGhpcy5ubyksIHsKICAgICAgICAgIG5vOiB0aGlzLm5vLAogICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgICAgICB3cml0ZXI6IHRoaXMud3JpdGVyLAogICAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CgogICAgICAgICAgaWYgKGRhdGEgPT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCJ1cGRhdGUuLi4uLi4uLi4uLi4uLi4uIiwgZGF0YSk7CiAgICAgICAgICAgIGFsZXJ0KCLsiJjsoJUg7JmE66OMISEhIik7CgogICAgICAgICAgICBfdGhpcy5tb3ZlSGFuZGxlcigpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIuyImOyglSDspJEg7Jik66WYIOuwnOyDnSIpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGFsZXJ0KCLsmKTrpZgg67Cc7IOdIik7CiAgICAgICAgfSk7CiAgICAgIH0gLy8gZWxzZSBlbmQKICAgIH0sCiAgICAvL2Z1bmN0aW9uIGVuZAogICAgbW92ZUhhbmRsZXI6IGZ1bmN0aW9uIG1vdmVIYW5kbGVyKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvc2VhcmNoIik7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGJ1cy4kZW1pdCgnc2VhcmNoQm9hcmQnLCBfdGhpczIubm8pOwogICAgICB9LCAxMDApOwogICAgfSwKICAgIHNldGJvYXJkOiBmdW5jdGlvbiBzZXRib2FyZChkYXRhKSB7CiAgICAgIHRoaXMubm8gPSBkYXRhLm5vOwogICAgICB0aGlzLnRpdGxlID0gZGF0YS50aXRsZTsKICAgICAgdGhpcy53cml0ZXIgPSBkYXRhLndyaXRlcjsKICAgICAgdGhpcy5yZWd0aW1lID0gZGF0YS5yZWd0aW1lOwogICAgICB0aGlzLmNvbnRlbnQgPSBkYXRhLmNvbnRlbnQ7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgYnVzLiRvbigndXBkYXRlQm9hcmQnLCB0aGlzLnNldGJvYXJkKTsKICB9Cn07"},{"version":3,"sources":["Update.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,MAAA,MAAA,QAAA;AACA,SAAA,GAAA,QAAA,YAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GATA;AAUA,EAAA,OAAA,EAAA;AACA,IAAA,MAAA,EAAA,gBAAA,OAAA,EAAA;AACA,aAAA,MAAA,CAAA,IAAA,IAAA,CAAA,OAAA,CAAA,CAAA,CAAA,MAAA,CAAA,YAAA,CAAA;AACA;AAHA,GAVA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,aAAA,EAAA,yBAAA;AAAA;;AACA,UAAA,GAAA,GAAA,IAAA;AACA,UAAA,GAAA,GAAA,EAAA,CAFA,CAGA;;AACA,MAAA,GAAA,IACA,CAAA,KAAA,KADA,KAEA,GAAA,GAAA,aAAA,EAAA,GAAA,GAAA,KAAA,EAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA,EAFA;AAGA,MAAA,GAAA,IACA,CAAA,KAAA,OADA,KAEA,GAAA,GAAA,aAAA,EAAA,GAAA,GAAA,KAAA,EAAA,KAAA,KAAA,CAAA,OAAA,CAAA,KAAA,EAFA;AAIA,UAAA,CAAA,GAAA,EAAA,KAAA,CAAA,GAAA,CAAA,CAAA,KACA;AACA,QAAA,KAAA,CACA,GADA,sDACA,KAAA,EADA,GACA;AACA,UAAA,EAAA,EAAA,KAAA,EADA;AAEA,UAAA,KAAA,EAAA,KAAA,KAFA;AAGA,UAAA,MAAA,EAAA,KAAA,MAHA;AAIA,UAAA,OAAA,EAAA,KAAA;AAJA,SADA,EAOA,IAPA,CAOA,gBAAA;AAAA,cAAA,IAAA,QAAA,IAAA;;AACA,cAAA,IAAA,IAAA,SAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,wBAAA,EAAA,IAAA;AACA,YAAA,KAAA,CAAA,UAAA,CAAA;;AACA,YAAA,KAAA,CAAA,WAAA;AACA,WAJA,MAIA;AACA,YAAA,KAAA,CAAA,YAAA,CAAA;AACA;AACA,SAfA,EAgBA,KAhBA,CAgBA,YAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA;AACA,SAlBA;AAmBA,OAhCA,CAgCA;AACA,KAlCA;AAkCA;AACA,IAAA,WAAA,EAAA,uBAAA;AAAA;;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,GAAA,CAAA,KAAA,CAAA,aAAA,EAAA,MAAA,CAAA,EAAA;AACA,OAFA,EAEA,GAFA,CAAA;AAGA,KAxCA;AAyCA,IAAA,QAzCA,oBAyCA,IAzCA,EAyCA;AACA,WAAA,EAAA,GAAA,IAAA,CAAA,EAAA;AACA,WAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,WAAA,MAAA,GAAA,IAAA,CAAA,MAAA;AACA,WAAA,OAAA,GAAA,IAAA,CAAA,OAAA;AACA,WAAA,OAAA,GAAA,IAAA,CAAA,OAAA;AACA;AA/CA,GAfA;AAgEA,EAAA,OAhEA,qBAgEA;AACA,IAAA,GAAA,CAAA,GAAA,CAAA,aAAA,EAAA,KAAA,QAAA;AACA;AAlEA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n    <h2 class=\"text-center\">게시글 수정</h2>\r\n    <table class=\"table table-condensed\">\r\n      <tr>\r\n        <th>제목</th>\r\n        <td>\r\n          <input type=\"text\" id=\"title\" ref=\"title\" placeholder=\"제목을 입력해주세요\" v-model=\"title\" />\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <th>내용</th>\r\n        <td>\r\n          <textarea id=\"content\" cols=\"60\" rows=\"10\" ref=\"content\" v-model=\"content\"></textarea>\r\n        </td>\r\n      </tr>\r\n    </table> \r\n\r\n    <div class=\"text-right\">\r\n      <button class=\"btn btn-primary btn-group\" @click=\"updateHandler\">수정</button>\r\n      <button class=\"btn btn-primary btn-group\" @click=\"moveHandler\">목록</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport {bus} from '@/boardbus'\r\nexport default {\r\n  data() {\r\n    return {\r\n      no: \"\",\r\n      regtime: \"\",\r\n      writer: \"\",\r\n      title: \"\",\r\n      content: \"\"\r\n    };\r\n  },\r\n  filters: {\r\n    toDate: function (regtime) {\r\n      return moment(new Date(regtime)).format(\"YYYY.MM.DD\");\r\n    }\r\n  },\r\n  methods: {\r\n    updateHandler: function() {\r\n      let err = true;\r\n      let msg = \"\";\r\n      //필수 요건 검사\r\n      err &&\r\n        !this.title &&\r\n        ((msg = \"제목을 입력해 주세요\"), (err = false), this.$refs.title.focus());\r\n      err &&\r\n        !this.content &&\r\n        ((msg = \"내용을 입력해 주세요\"), (err = false), this.$refs.content.focus());\r\n\r\n      if (!err) alert(msg);\r\n      else {\r\n        axios\r\n          .put(`http://localhost:9090/happyhouse/qna/board/${this.no}`, {\r\n            no: this.no,\r\n            title: this.title,\r\n            writer: this.writer,\r\n            content: this.content\r\n          })\r\n          .then(({ data }) => {\r\n            if (data == \"success\") {\r\n              console.log(\"update................\", data);\r\n              alert(\"수정 완료!!!\");\r\n              this.moveHandler();\r\n            } else {\r\n              alert(\"수정 중 오류 발생\");\r\n            }\r\n          })\r\n          .catch(() => {\r\n            alert(\"오류 발생\");\r\n          });\r\n      } // else end\r\n    }, //function end\r\n    moveHandler: function() {\r\n      this.$router.push(\"/search\");\r\n      setTimeout(()=>{\r\n          bus.$emit('searchBoard', this.no);\r\n      }, 100);\r\n    },\r\n    setboard(data){\r\n      this.no = data.no;\r\n      this.title = data.title;\r\n      this.writer = data.writer;\r\n      this.regtime = data.regtime;\r\n      this.content = data.content;\r\n    }\r\n  },\r\n  created() {\r\n    bus.$on('updateBoard', this.setboard)\r\n  } \r\n}\r\n</script>   \r\n\r\n<style>\r\n.btn-group{\r\n  margin: 10px;\r\n  padding: 5px 30px;\r\n}\r\n</style>"],"sourceRoot":"src/components"}]}