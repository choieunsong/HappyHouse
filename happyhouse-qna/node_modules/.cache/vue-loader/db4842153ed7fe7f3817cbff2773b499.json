{"remainingRequest":"/Users/eunsong/Documents/SSAFY/WorkSpace/vuejs/Workshop/happyhouse-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eunsong/Documents/SSAFY/WorkSpace/vuejs/Workshop/happyhouse-cli/src/components/Update.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eunsong/Documents/SSAFY/WorkSpace/vuejs/Workshop/happyhouse-cli/src/components/Update.vue","mtime":1621683779351},{"path":"/Users/eunsong/Documents/SSAFY/WorkSpace/vuejs/Workshop/happyhouse-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eunsong/Documents/SSAFY/WorkSpace/vuejs/Workshop/happyhouse-cli/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/eunsong/Documents/SSAFY/WorkSpace/vuejs/Workshop/happyhouse-cli/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eunsong/Documents/SSAFY/WorkSpace/vuejs/Workshop/happyhouse-cli/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOw0KaW1wb3J0IHtidXN9IGZyb20gJ0AvYm9hcmRidXMnDQpleHBvcnQgZGVmYXVsdCB7DQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIG5vOiAiIiwNCiAgICAgIHJlZ3RpbWU6ICIiLA0KICAgICAgd3JpdGVyOiAiIiwNCiAgICAgIHRpdGxlOiAiIiwNCiAgICAgIGNvbnRlbnQ6ICIiDQogICAgfTsNCiAgfSwNCiAgZmlsdGVyczogew0KICAgIHRvRGF0ZTogZnVuY3Rpb24gKHJlZ3RpbWUpIHsNCiAgICAgIHJldHVybiBtb21lbnQobmV3IERhdGUocmVndGltZSkpLmZvcm1hdCgiWVlZWS5NTS5ERCIpOw0KICAgIH0NCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHVwZGF0ZUhhbmRsZXI6IGZ1bmN0aW9uKCkgew0KICAgICAgbGV0IGVyciA9IHRydWU7DQogICAgICBsZXQgbXNnID0gIiI7DQogICAgICAvL+2VhOyImCDsmpTqsbQg6rKA7IKsDQogICAgICBlcnIgJiYNCiAgICAgICAgIXRoaXMudGl0bGUgJiYNCiAgICAgICAgKChtc2cgPSAi7KCc66qp7J2EIOyeheugpe2VtCDso7zshLjsmpQiKSwgKGVyciA9IGZhbHNlKSwgdGhpcy4kcmVmcy50aXRsZS5mb2N1cygpKTsNCiAgICAgIGVyciAmJg0KICAgICAgICAhdGhpcy5jb250ZW50ICYmDQogICAgICAgICgobXNnID0gIuuCtOyaqeydhCDsnoXroKXtlbQg7KO87IS47JqUIiksIChlcnIgPSBmYWxzZSksIHRoaXMuJHJlZnMuY29udGVudC5mb2N1cygpKTsNCg0KICAgICAgaWYgKCFlcnIpIGFsZXJ0KG1zZyk7DQogICAgICBlbHNlIHsNCiAgICAgICAgYXhpb3MNCiAgICAgICAgICAucHV0KGBodHRwOi8vbG9jYWxob3N0OjkwOTAvaGFwcHlob3VzZS9xbmEvYm9hcmQvJHt0aGlzLm5vfWAsIHsNCiAgICAgICAgICAgIG5vOiB0aGlzLm5vLA0KICAgICAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsDQogICAgICAgICAgICB3cml0ZXI6IHRoaXMud3JpdGVyLA0KICAgICAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50DQogICAgICAgICAgfSkNCiAgICAgICAgICAudGhlbigoeyBkYXRhIH0pID0+IHsNCiAgICAgICAgICAgIGlmIChkYXRhID09ICJzdWNjZXNzIikgew0KICAgICAgICAgICAgICBjb25zb2xlLmxvZygidXBkYXRlLi4uLi4uLi4uLi4uLi4uLiIsIGRhdGEpOw0KICAgICAgICAgICAgICBhbGVydCgi7IiY7KCVIOyZhOujjCEhISIpOw0KICAgICAgICAgICAgICB0aGlzLm1vdmVIYW5kbGVyKCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICBhbGVydCgi7IiY7KCVIOykkSDsmKTrpZgg67Cc7IOdIik7DQogICAgICAgICAgICB9DQogICAgICAgICAgfSkNCiAgICAgICAgICAuY2F0Y2goKCkgPT4gew0KICAgICAgICAgICAgYWxlcnQoIuyYpOulmCDrsJzsg50iKTsNCiAgICAgICAgICB9KTsNCiAgICAgIH0gLy8gZWxzZSBlbmQNCiAgICB9LCAvL2Z1bmN0aW9uIGVuZA0KICAgIG1vdmVIYW5kbGVyOiBmdW5jdGlvbigpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvc2VhcmNoIik7DQogICAgICBzZXRUaW1lb3V0KCgpPT57DQogICAgICAgICAgYnVzLiRlbWl0KCdzZWFyY2hCb2FyZCcsIHRoaXMubm8pOw0KICAgICAgfSwgMTAwKTsNCiAgICB9LA0KICAgIHNldGJvYXJkKGRhdGEpew0KICAgICAgdGhpcy5ubyA9IGRhdGEubm87DQogICAgICB0aGlzLnRpdGxlID0gZGF0YS50aXRsZTsNCiAgICAgIHRoaXMud3JpdGVyID0gZGF0YS53cml0ZXI7DQogICAgICB0aGlzLnJlZ3RpbWUgPSBkYXRhLnJlZ3RpbWU7DQogICAgICB0aGlzLmNvbnRlbnQgPSBkYXRhLmNvbnRlbnQ7DQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIGJ1cy4kb24oJ3VwZGF0ZUJvYXJkJywgdGhpcy5zZXRib2FyZCkNCiAgfSANCn0NCg=="},{"version":3,"sources":["Update.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Update.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <h2 class=\"text-center\">게시글 수정</h2>\r\n    <table class=\"table table-condensed\">\r\n      <tr>\r\n        <th>제목</th>\r\n        <td>\r\n          <input type=\"text\" id=\"title\" ref=\"title\" placeholder=\"제목을 입력해주세요\" v-model=\"title\" />\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <th>내용</th>\r\n        <td>\r\n          <textarea id=\"content\" cols=\"60\" rows=\"10\" ref=\"content\" v-model=\"content\"></textarea>\r\n        </td>\r\n      </tr>\r\n    </table> \r\n\r\n    <div class=\"text-right\">\r\n      <button class=\"btn btn-primary btn-group\" @click=\"updateHandler\">수정</button>\r\n      <button class=\"btn btn-primary btn-group\" @click=\"moveHandler\">목록</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport moment from \"moment\";\r\nimport {bus} from '@/boardbus'\r\nexport default {\r\n  data() {\r\n    return {\r\n      no: \"\",\r\n      regtime: \"\",\r\n      writer: \"\",\r\n      title: \"\",\r\n      content: \"\"\r\n    };\r\n  },\r\n  filters: {\r\n    toDate: function (regtime) {\r\n      return moment(new Date(regtime)).format(\"YYYY.MM.DD\");\r\n    }\r\n  },\r\n  methods: {\r\n    updateHandler: function() {\r\n      let err = true;\r\n      let msg = \"\";\r\n      //필수 요건 검사\r\n      err &&\r\n        !this.title &&\r\n        ((msg = \"제목을 입력해 주세요\"), (err = false), this.$refs.title.focus());\r\n      err &&\r\n        !this.content &&\r\n        ((msg = \"내용을 입력해 주세요\"), (err = false), this.$refs.content.focus());\r\n\r\n      if (!err) alert(msg);\r\n      else {\r\n        axios\r\n          .put(`http://localhost:9090/happyhouse/qna/board/${this.no}`, {\r\n            no: this.no,\r\n            title: this.title,\r\n            writer: this.writer,\r\n            content: this.content\r\n          })\r\n          .then(({ data }) => {\r\n            if (data == \"success\") {\r\n              console.log(\"update................\", data);\r\n              alert(\"수정 완료!!!\");\r\n              this.moveHandler();\r\n            } else {\r\n              alert(\"수정 중 오류 발생\");\r\n            }\r\n          })\r\n          .catch(() => {\r\n            alert(\"오류 발생\");\r\n          });\r\n      } // else end\r\n    }, //function end\r\n    moveHandler: function() {\r\n      this.$router.push(\"/search\");\r\n      setTimeout(()=>{\r\n          bus.$emit('searchBoard', this.no);\r\n      }, 100);\r\n    },\r\n    setboard(data){\r\n      this.no = data.no;\r\n      this.title = data.title;\r\n      this.writer = data.writer;\r\n      this.regtime = data.regtime;\r\n      this.content = data.content;\r\n    }\r\n  },\r\n  created() {\r\n    bus.$on('updateBoard', this.setboard)\r\n  } \r\n}\r\n</script>   \r\n\r\n<style>\r\n.btn-group{\r\n  margin: 10px;\r\n  padding: 5px 30px;\r\n}\r\n</style>"]}]}